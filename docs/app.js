!function(){"use strict";var c,r,o,n,e,t,m,v;c=function(c){return document.getElementById(c)},o={moves:0,flower:{c0:{v:"10",m:["c1-0","c1-1","c1-2","c1-3","c1-4","c1-5"]},"c1-0":{v:"13",m:["c3-0","c2-1","c1-1","c0","c1-5","c2-0"]},"c1-1":{v:"11",m:["c2-1","c3-1","c2-2","c1-2","c0","c1-0"]},"c1-2":{v:"6",m:["c1-1","c2-2","c3-2","c2-3","c1-3","c0"]},"c1-3":{v:"5",m:["c0","c1-2","c2-3","c3-3","c2-4","c1-4"]},"c1-4":{v:"9",m:["c1-5","c0","c1-3","c2-4","c3-4","c2-5"]},"c1-5":{v:"",m:["c2-0","c1-0","c0","c1-4","c2-5","c3-5"]},"c2-0":{v:"16",m:["c2-4","c3-0","c1-0","c1-5","c3-5","c2-2"]},"c2-1":{v:"14",m:["c2-3","c2-5","c3-1","c1-1","c1-0","c3-0"]},"c2-2":{v:"7",m:["c3-1","c2-4","c2-0","c3-2","c1-2","c1-1"]},"c2-3":{v:"2",m:["c1-2","c3-2","c2-5","c2-1","c3-3","c1-3"]},"c2-4":{v:"4",m:["c1-4","c1-3","c3-3","c2-0","c2-2","c3-4"]},"c2-5":{v:"12",m:["c3-5","c1-5","c1-4","c3-4","c2-1","c2-3"]},"c3-0":{v:"17",m:["c3-3","c3-5","c2-1","c1-0","c2-0","c3-1"]},"c3-1":{v:"18-20",m:["c3-2","c3-4","c3-0","c2-2","c1-1","c2-1"]},"c3-2":{v:"3",m:["c2-2","c3-3","c2-5","c3-1","c2-3","c1-2"]},"c3-3":{v:"1",m:["c1-3","c2-3","c3-4","c3-0","c3-2","c2-4"]},"c3-4":{v:"8",m:["c2-5","c1-4","c2-4","c3-5","c3-1","c3-3"]},"c3-5":{v:"15",m:["c3-4","c2-0","c1-5","c2-5","c3-0","c3-2"]}},probs:[(r={2:1/36,3:1/18,4:1/12,5:1/9,6:5/36,7:1/6,8:5/36,9:1/9,10:1/12,11:1/18,12:1/36})[2]+r[3],r[12],r[10]+r[11],r[8]+r[9],r[6]+r[7],r[4]+r[5]]},n=function(){var c,r,n,m,v,u,f,i,l,d,w,a,s,p,y,b;for(r in c=function(){var c,r,n;for(c in r=o.flower)(n=r[c]).old=n.curr,n.curr=0},n=o.flower)(m=n[r]).old=0,m.curr=0,m.acc=0;for(u in v=0,n=o.flower){for(i in f=n[u],l=o.flower)m=l[i],i!==u&&(m.old=0,m.curr=0);for(o.flower["c1-5"].curr=1,d=0,w=o.moves;d<w;++d){for(i in c(),l=o.flower)if(m=l[i],i!==u&&0!==m.old)for(a=0,p=(s=o.probs).length;a<p;++a)y=a,b=s[a],m.m[y]===u?f.acc+=m.old*b:o.flower[m.m[y]].curr+=m.old*b;v=v>(l=f.acc)?v:l}}for(i in n=o.flower)m=n[i],"c1-5"!==i&&(v=0===v?1:v,document.querySelector("#"+i+" text.dn").innerHTML=t(m.acc),document.querySelector("#"+i+" .base.dn").style.fill=e(m.acc,v))},e=function(c,r){var o;return"rgb(255, "+(o=255*(1-c/r))+", "+o+")"},t=function(c){return Math.round(1e4*c)/100+"%"},m=function(r){"dn"===r&&0===o.moves||(o.moves+="dn"===r?-1:1,c("moves-val").innerText=o.moves,n())},v=function(){var c,r,e;for(c in r=o.flower)e=r[c],document.querySelector("#"+c+" text.up").innerHTML=e.v;n()},window.init=v,window.moveup=function(){return m("up")},window.movedn=function(){return m("dn")},window.store=o}();
